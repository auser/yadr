#!/usr/bin/env zsh

# Checks if there's a frame open
/Applications/Emacs.app/Contents/MacOS/bin/emacsclient -n -e "(if (> (length (frame-list)) 1) 't)" 2> /dev/null | grep t &> /dev/null

if [ "$?" -eq "1" ]; then
 open -a "/Applications/Emacs.app/Contents/MacOS/Emacs" -n "$@"
 exit
else
  open -a "/Applications/Emacs.app/Contents/MacOS/Emacs" -n "$@"
#  open -a /Applications/Emacs.app/Contents/MacOS/Emacs.app -nq "$@" &> /dev/null
 exit
fi
